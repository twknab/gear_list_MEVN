{"version":3,"sources":["webpack:///./src/services/GearListService.js","webpack:///./src/views/AddGearList.vue?4520","webpack:///src/views/AddGearList.vue","webpack:///./src/views/AddGearList.vue?154f","webpack:///./src/views/AddGearList.vue"],"names":["api","axios","create","baseURL","withCredentials","headers","Accept","createNewGearList","newGearList","post","getAllGearListsForUser","get","attachOneItemToManyLists","gearItemAndGearLists","attachManyItemsToOneList","listIdAndItemSelections","removeGearItemFromList","gearListIdAndItemId","findListsWithItem","gearItemId","getListAndItems","gearListId","getListAndItemCompletions","updateGearList","gearList","deleteGearList","render","_vm","this","_h","$createElement","_c","_self","attrs","_v","ref","Object","keys","errors","length","staticClass","_l","error","key","index","_s","message","_e","titleRules","model","value","callback","$$v","$set","expression","on","submit","$event","$router","push","name","staticRenderFns","props","user","type","required","data","title","gearListOwner","_id","methods","$refs","addNewGearList","validate","then","result","GearListService","getLoggedInUser","$emit","created","component"],"mappings":"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","file":"js/addNewGearList.aebdadf0.js","sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"/api\",\n  withCredentials: true,\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\"\n  }\n});\n\nexport default {\n  createNewGearList(newGearList) {\n    return api.post(\"/gear-list\", newGearList);\n  },\n  getAllGearListsForUser() {\n    return api.get(\"/gear-list\");\n  },\n  attachOneItemToManyLists(gearItemAndGearLists) {\n    return api.post(\"/gear-list/attach\", gearItemAndGearLists);\n  },\n  attachManyItemsToOneList(listIdAndItemSelections) {\n    return api.post(\"/gear-list/attach/many-items\", listIdAndItemSelections);\n  },\n  removeGearItemFromList(gearListIdAndItemId) {\n    return api.post(\"/gear-list/remove/item\", gearListIdAndItemId);\n  },\n  findListsWithItem(gearItemId) {\n    return api.get(`/gear-list/find-item?gearItemId=${gearItemId}`);\n  },\n  getListAndItems(gearListId) {\n    return api.get(`/gear-list/find-list?gearListId=${gearListId}`);\n  },\n  getListAndItemCompletions(gearListId) {\n    return api.post(\"/gear-list/find-list\", gearListId);\n  },\n  updateGearList(gearList) {\n    return api.post(\"/gear-list/update\", gearList);\n  },\n  deleteGearList(gearListId) {\n    return api.get(`/gear-list/delete?gearListId=${gearListId}`);\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mu-container',[_c('mu-row',{attrs:{\"gutter\":\"\"}},[_c('mu-col',{attrs:{\"span\":\"12\"}},[_c('h1',[_vm._v(\"New Gear List\")])])],1),_c('mu-row',{attrs:{\"span\":\"12\"}},[_c('mu-form',{ref:\"addNewGearList\",attrs:{\"model\":_vm.newGearList}},[(Object.keys(_vm.errors).length >= 1)?_c('div',{staticClass:\"server-errors\"},[_c('h2',[_vm._v(\"Whoops, there's a few issues...\")]),_c('ul',_vm._l((_vm.errors),function(error,key,index){return _c('li',{key:index},[_vm._v(\"\\n              \"+_vm._s(error.message)+\"\\n            \")])}),0)]):_vm._e(),_c('mu-form-item',{attrs:{\"label\":\"Title\",\"prop\":\"title\",\"type\":\"text\",\"rules\":_vm.titleRules}},[_c('mu-text-field',{attrs:{\"prop\":\"title\",\"color\":\"primary\"},model:{value:(_vm.newGearList.title),callback:function ($$v) {_vm.$set(_vm.newGearList, \"title\", $$v)},expression:\"newGearList.title\"}})],1),_c('mu-button',{attrs:{\"full-width\":\"\",\"round\":\"\",\"color\":\"purpleA400\",\"large\":\"\"},on:{\"click\":_vm.submit}},[_c('mu-icon',{attrs:{\"value\":\"add\"}}),_c('span',{staticClass:\"button-icon\"},[_vm._v(\"New List\")])],1),_c('div',{staticClass:\"margin-top-md\"},[_c('mu-button',{staticClass:\"flat-full-width\",attrs:{\"flat\":\"\",\"color\":\"white\",\"large\":\"\"},on:{\"click\":function($event){_vm.$router.push({ name: 'dashboard' })}}},[_c('mu-icon',{attrs:{\"value\":\"close\"}}),_c('span',{staticClass:\"button-icon\"},[_vm._v(\"Nevermind\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <mu-container>\n      <mu-row gutter>\n        <mu-col span=\"12\">\n          <h1>New Gear List</h1>\n        </mu-col>\n      </mu-row>\n      <mu-row span=\"12\">\n        <!-- Login Form -->\n        <mu-form ref=\"addNewGearList\" :model=\"newGearList\">\n          <!-- Backend Errors Display -->\n          <div v-if=\"Object.keys(errors).length >= 1\" class=\"server-errors\">\n            <h2>Whoops, there's a few issues...</h2>\n            <ul>\n              <li v-for=\"(error, key, index) in errors\" :key=\"index\">\n                {{ error.message }}\n              </li>\n            </ul>\n          </div>\n          <!-- Gear List Title -->\n          <mu-form-item\n            label=\"Title\"\n            prop=\"title\"\n            type=\"text\"\n            :rules=\"titleRules\"\n          >\n            <mu-text-field\n              v-model=\"newGearList.title\"\n              prop=\"title\"\n              color=\"primary\"\n            ></mu-text-field>\n          </mu-form-item>\n          <!-- Submit Button -->\n          <mu-button full-width round color=\"purpleA400\" @click=\"submit\" large>\n            <mu-icon value=\"add\"></mu-icon>\n            <span class=\"button-icon\">New List</span>\n          </mu-button>\n          <div class=\"margin-top-md\">\n            <mu-button\n              class=\"flat-full-width\"\n              flat\n              color=\"white\"\n              @click=\"$router.push({ name: 'dashboard' })\"\n              large\n            >\n              <mu-icon value=\"close\"></mu-icon>\n              <span class=\"button-icon\">Nevermind</span>\n            </mu-button>\n          </div>\n        </mu-form>\n      </mu-row>\n    </mu-container>\n  </div>\n</template>\n\n<script>\nimport GearListService from \"@/services/GearListService.js\";\nexport default {\n  name: \"AddGearList\",\n  props: {\n    user: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      errors: {},\n      // these are front-end validations:\n      titleRules: [\n        { validate: val => !!val, message: \"Title is required\" },\n        {\n          validate: val => val.length >= 2 && val.length <= 50,\n          message: \"Title must be 2-50 characters\"\n        }\n      ],\n      newGearList: {\n        title: \"\",\n        gearListOwner: this.user._id\n      }\n    };\n  },\n  methods: {\n    submit() {\n      this.$refs.addNewGearList.validate().then(result => {\n        if (result) {\n          // Attempt to create new gear list:\n          GearListService.createNewGearList(this.newGearList)\n            .then(() => {\n              // Redirect to dashboard view\n              this.$router.push({ name: \"dashboard\" });\n            })\n            .catch(error => {\n              this.errors = error.response.data;\n            });\n        }\n      });\n    },\n    getLoggedInUser() {\n      this.$emit(\"getGlobalUser\");\n    }\n  },\n  created: function() {\n    this.getLoggedInUser();\n  }\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGearList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGearList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddGearList.vue?vue&type=template&id=2858cb2a&\"\nimport script from \"./AddGearList.vue?vue&type=script&lang=js&\"\nexport * from \"./AddGearList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}